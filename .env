# ========================================
# Telegram Bot
# 从 @BotFather 获取，别把真 Token 提交仓库
# ========================================
# 统一只保留 TELEGRAM_BOT_TOKEN，避免和 BOT_TOKEN 混淆
TELEGRAM_BOT_TOKEN=8271541107:AAEUnufB15__RoGqcaslqTAGs36y9gogPvw
BOT_TOKEN=8271541107:AAEUnufB15__RoGqcaslqTAGs36y9gogPvw

# 你的 Telegram 数字ID（用于后台权限、超管等）
ADMIN_TG_ID=5433982810

# ========================================
# Database
# 本地开发用 SQLite；生产建议 Postgres/MySQL
# ========================================
DATABASE_URL=sqlite:///./data.sqlite
# PostgreSQL 示例：
# DATABASE_URL=postgresql+psycopg2://user:password@localhost:5432/redpacket
# MySQL 示例：
# DATABASE_URL=mysql+pymysql://user:password@localhost:3306/redpacket?charset=utf8mb4

# ========================================
# Admin（管理员集合 & 会话密钥）
# ========================================
# 管理员用户ID，逗号分隔（都是 Telegram 数字 ID）
# 如需多管理员可自行追加；我保留你原文件的长名单（若你不想开放给其他人，可自行裁剪）
ADMIN_IDS=5433982810,1144325634,7930885514,7319417951,825286588,7890610541,501832054,8244419472,7276250214,7610110933,8472721885

# 会话密钥（后台登录会话用）。使用你提供的高强度随机值
ADMIN_SESSION_SECRET=RQrR-eQAxIkJlHeeVdl4LfRizeamAlkyQSSQa8Y2tZPPu_N09jH1XOm8WHdliJWTp4mF745g044xASTxT7TuRQ

# 超管白名单（具备清零等高危权限）
# 你原文件既有一长串又有单个ID的重复定义。为避免被最后一条覆盖造成困惑，这里只保留“单个ID”的版本。
# 若确需多超管：把其他 ID 追加到逗号后即可。
SUPER_ADMINS=5433982810

# ========================================
# Dangerous Ops（高危操作）
# 生产默认关；测试/预发你自己看着办
# ========================================
ALLOW_RESET=false

# ========================================
# Locale / Timezone
# ========================================
DEFAULT_LANG=zh
FALLBACK_LANG=en
TZ=Asia/Manila

# ========================================
# Paths
# 可选：静态资源与模板目录（不填则默认 static / templates）
# ========================================
STATIC_DIR=static
TEMPLATE_DIR=templates

# ========================================
# Feature Flags / Recharge
# ========================================
RECHARGE_PROVIDER=nowpayments
RECHARGE_EXPIRE_MINUTES=60

# 充值可选币种映射（业务到 NOWPayments）
RECHARGE_COIN_USDT=USDTTRC20
RECHARGE_COIN_TON=TON
# NOWPayments 的 pay_currency 真实值（小写），按你账号实际开通调整
NP_PAY_COIN_USDT=usdttrc20
NP_PAY_COIN_TON=ton
# 是否在前端展示 TON 入口（账号没开通 TON 时设为 false）
RECHARGE_ENABLE_TON=true

# ========================================
# NOWPayments（把占位替换成真值）
# ========================================
# API 基址（默认就这个，不要乱改）
NOWPAYMENTS_BASE_URL=https://api.nowpayments.io/v1
# 控制台申请的 API KEY 与 IPN 密钥
NOWPAYMENTS_API_KEY=YOUR_NOWPAYMENTS_API_KEY
NOWPAYMENTS_IPN_SECRET=YOUR_NOWPAYMENTS_IPN_SECRET

# 重要：IPN 回调地址要指向我们的控制器 /api/np/ipn
# TODO: 把 <your-public-host> 换成你的公开域名或穿透地址
NOWPAYMENTS_IPN_URL=https://<your-public-host>/api/np/ipn

# 支付成功/取消的跳转页，可用 t.me 深链，不需要自建站
NOWPAYMENTS_SUCCESS_URL=https://t.me/sucai2025_bot?start=topup_success
NOWPAYMENTS_CANCEL_URL=https://t.me/sucai2025_bot?start=topup_cancel

# 是否强行走旧流程（直接 /payment）。通常为 0；发票页异常再开 1 应急。
NOWPAYMENTS_FORCE_LEGACY=0

# 价格计价法币（NOWPayments 用它换算目标币金额）
NOWPAYMENTS_PRICE_CCY=usd

# ========================================
# AI（可留空）
# ========================================
AI_PROVIDER=openai
OPENAI_API_KEY=YOUR_OPENAI_API_KEY
OPENAI_MODEL=gpt-4o-mini
# OpenRouter（可选）
OPENROUTER_API_KEY=
OPENROUTER_MODEL=openai/gpt-4o-mini
AI_TIMEOUT=20
AI_MAX_TOKENS=500


# ========================================
# Covers（红包封面）
# 必须是数值型频道 ID（通常 -100 开头）；机器人需加入并有发布权限
# ========================================
HB_COVER_CHANNEL_ID=-1002567679818

# ========================================
# Debug
# 开发环境开，生产关
# ========================================
DEBUG=true

# ========================================
# 可选：FLAG_* 一次性覆盖 feature_flags 的开关（大写键名）
# 例如：FLAG_ENABLE_RANK_GLOBAL=0
# ========================================
# FLAG_ENABLE_RANK_GLOBAL=1
# FLAG_HB_ALLOW_FIXED=0

# --- Web后台登录 ---
# 登录用户名（可改）
ADMIN_WEB_USER=admin
# 如果你更想用明文（不推荐，启用了就确保没有配置哈希）
ADMIN_WEB_PASSWORD=R0cket-Maple@2025!
